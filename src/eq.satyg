use open Util

module Eq :> sig
  type t :: o -> o
  val persistent ~make 'a : ('a -> 'a -> bool) -> t 'a
  val persistent ~equal 'a : implicit (t 'a) -> 'a -> 'a -> bool
  val persistent ~inequal 'a : implicit (t 'a) -> 'a -> 'a -> bool
end = struct
  type t 'a = 'a -> 'a -> bool
  val persistent ~make eq = eq
  val persistent ~equal eq = eq
  val persistent ~inequal eq a b = not (eq a b)
end
